<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ферма за Ягоди и Малини</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Допълнителни Tailwind настройки (по желание) -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
          colors: {
            primary: '#DC2626',   // червено
            secondary: '#65A30D', // зелено
          },
        },
      },
    }
  </script>
</head>

<body class="bg-gray-100 text-gray-900 font-sans">
  <!-- HEADER / NAVBAR -->
  <header class="w-full bg-primary text-white shadow fixed top-0 left-0 z-50">
    <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
      <h1 class="text-xl md:text-3xl font-bold">
        Ферма за Ягоди и Малини
      </h1>
      
      <!-- Примерно меню -->
      <nav class="hidden md:flex items-center space-x-4">
        <a href="#products" class="hover:underline">Продукти</a>
        <a href="#about" class="hover:underline">За нас</a>
        <a href="#contact" class="hover:underline">Контакти</a>

        <!-- Icon за количката -->
        <div class="relative cursor-pointer" onclick="toggleCart()">
          <!-- Икона (примерна) -->
          <svg class="w-6 h-6 fill-current text-white" viewBox="0 0 24 24">
            <path d="M3 3h2l3.6 7.59-1.35 2.45A2.01 2.01 0 0 0 7 16c0 1.1.9 2 2 2h9v-2H9.42a.5.5 0 0 1-.47-.32L9.67 14h7.45a2 2 0 0 0 1.78-1.11l3.58-6.49A1 1 0 0 0 21 5H6l-.94-2H3zm4 16a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm10 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/>
          </svg>
          <!-- Брой продукти в количката -->
          <span id="cart-count"
                class="absolute -top-2 -right-2 bg-secondary text-white text-sm rounded-full px-2 py-0.5"
                style="display: none;">
            0
          </span>
        </div>
      </nav>
    </div>
  </header>

  <!-- CART SIDEBAR -->
  <aside id="cart-sidebar"
         class="fixed top-0 right-0 w-full md:w-96 h-full bg-white shadow-2xl transform translate-x-full transition-transform z-50 flex flex-col">
    <!-- Заглавие и бутон за затваряне -->
    <div class="p-4 border-b flex justify-between items-center">
      <h3 class="text-lg font-bold">Количка</h3>
      <button class="text-gray-500 hover:text-gray-700" onclick="toggleCart()">
        Затвори ✕
      </button>
    </div>

    <!-- Списък с продукти в количката -->
    <div class="flex-1 overflow-y-auto p-4" id="cart-items">
      <!-- Ще се генерира динамично от JS -->
    </div>

    <!-- Обща сума + бутон към "Поръчка" -->
    <div class="p-4 border-t">
      <p class="text-lg font-semibold">Обща сума: 
        <span id="cart-total">0.00</span> лв
      </p>
      <button class="bg-primary text-white px-4 py-2 rounded mt-2 w-full hover:bg-red-600"
              onclick="showCheckout()">
        Към Поръчка
      </button>
    </div>
  </aside>

  <!-- OVERLAY за CART -->
  <div id="cart-overlay"
       class="fixed inset-0 bg-black bg-opacity-40 z-40 hidden"
       onclick="toggleCart()">
  </div>


  <!-- CHECKOUT MODAL (стъпка за финализиране) -->
  <div id="checkout-modal"
       class="fixed inset-0 z-50 hidden overflow-y-auto flex items-center justify-center">
    <!-- overlay -->
    <div class="absolute inset-0 bg-black bg-opacity-50" onclick="hideCheckout()"></div>
    <!-- modal content -->
    <div class="relative bg-white w-full max-w-2xl mx-auto rounded shadow-lg p-6">
      <h2 class="text-2xl font-bold mb-4">Финализиране на Поръчката</h2>
      
      <!-- Форма за данни за плащане и доставка -->
      <form onsubmit="submitOrder(event)" class="space-y-4">
        <!-- Име -->
        <div>
          <label class="block text-gray-700 mb-1" for="customerName">Име и Фамилия:</label>
          <input type="text" id="customerName" class="w-full p-2 border rounded" required />
        </div>

        <!-- Телефон -->
        <div>
          <label class="block text-gray-700 mb-1" for="customerPhone">Телефон:</label>
          <input type="tel" id="customerPhone" class="w-full p-2 border rounded" required />
        </div>

        <!-- Имейл -->
        <div>
          <label class="block text-gray-700 mb-1" for="customerEmail">Имейл:</label>
          <input type="email" id="customerEmail" class="w-full p-2 border rounded" required />
        </div>

        <!-- Метод на доставка -->
        <fieldset>
          <legend class="block text-gray-700 mb-2 font-semibold">Доставка:</legend>
          <div class="flex items-center mb-2">
            <input type="radio" name="deliveryMethod" id="deliveryToAddress"
                   value="address" class="mr-2" checked
                   onchange="toggleDeliveryFields()" />
            <label for="deliveryToAddress">До адрес</label>
          </div>
          <div class="flex items-center mb-2">
            <input type="radio" name="deliveryMethod" id="deliveryToOffice"
                   value="office" class="mr-2"
                   onchange="toggleDeliveryFields()" />
            <label for="deliveryToOffice">До офис</label>
          </div>
        </fieldset>

        <!-- Полета при доставка до адрес -->
        <div id="address-fields">
          <label class="block text-gray-700 mb-1" for="deliveryAddress">Адрес за доставка:</label>
          <input type="text" id="deliveryAddress" class="w-full p-2 border rounded" />
          <label class="block text-gray-700 mb-1 mt-2" for="deliveryCity">Град:</label>
          <input type="text" id="deliveryCity" class="w-full p-2 border rounded" />
        </div>

        <!-- Поле при доставка до офис -->
        <div id="office-fields" class="hidden">
          <label class="block text-gray-700 mb-1" for="officeLocation">Офис на куриер:</label>
          <input type="text" id="officeLocation" class="w-full p-2 border rounded"
                 placeholder="Напр. Еконт - Централен офис" />
        </div>

        <!-- Метод на плащане -->
        <fieldset>
          <legend class="block text-gray-700 mb-2 font-semibold">Метод на плащане:</legend>
          <div class="flex items-center mb-2">
            <input type="radio" name="paymentMethod" id="paymentCOD"
                   value="cod" class="mr-2" checked
                   onchange="togglePaymentFields()" />
            <label for="paymentCOD">Наложен платеж</label>
          </div>
          <div class="flex items-center">
            <input type="radio" name="paymentMethod" id="paymentCard"
                   value="card" class="mr-2"
                   onchange="togglePaymentFields()" />
            <label for="paymentCard">Плащане с карта</label>
          </div>
        </fieldset>

        <!-- Полета за картови данни -->
        <div id="card-fields" class="hidden">
          <label class="block text-gray-700 mb-1 mt-2" for="cardNumber">Номер на карта:</label>
          <input type="text" id="cardNumber" class="w-full p-2 border rounded"
                 placeholder="XXXX XXXX XXXX XXXX" />

          <div class="flex space-x-2 mt-2">
            <div class="w-1/2">
              <label class="block text-gray-700 mb-1" for="cardExp">Валидна до (MM/YY):</label>
              <input type="text" id="cardExp" class="w-full p-2 border rounded"
                     placeholder="MM/YY" />
            </div>
            <div class="w-1/2">
              <label class="block text-gray-700 mb-1" for="cardCVC">CVC:</label>
              <input type="text" id="cardCVC" class="w-full p-2 border rounded"
                     placeholder="3-цифрен код" />
            </div>
          </div>
        </div>

        <!-- Бутон за потвърждаване -->
        <div class="mt-4 flex justify-end space-x-2">
          <button type="button"
                  class="bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400"
                  onclick="hideCheckout()">
            Отказ
          </button>
          <button type="submit"
                  class="bg-primary text-white px-4 py-2 rounded hover:bg-red-600">
            Потвърди Поръчката
          </button>
        </div>
      </form>
    </div>
  </div>


  <!-- HERO SECTION -->
  <section
    class="relative flex items-center justify-center h-screen bg-cover bg-center"
    style="background-image: url('images/qgodi.jpg');"
  >
    <div class="absolute inset-0 bg-black bg-opacity-40"></div>
    <div class="relative z-10 text-center text-white p-4">
      <h2 class="text-3xl md:text-5xl font-bold mb-4">
        Свежи Ягоди и Малини директно от фермата
      </h2>
      <p class="text-lg md:text-2xl mb-6">
        Опитайте истинския вкус на натуралните плодове, отгледани с любов
      </p>
      <a
        href="#products"
        class="inline-block bg-secondary text-white px-6 py-3 text-lg font-semibold rounded hover:scale-105 transition-transform"
      >
        Разгледай нашите продукти
      </a>
    </div>
  </section>

  <!-- PRODUCTS SECTION -->
  <section id="products" class="max-w-7xl mx-auto py-16 px-4 text-center">
    <h2 class="text-3xl font-bold mb-8">Нашите Основни Продукти</h2>
    <p class="text-lg text-gray-700 mb-10">
      Кликнете върху категория, за да видите наличните варианти за покупка.
    </p>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <!-- CARD: ЯГОДИ -->
      <div
        class="bg-white rounded shadow-lg overflow-hidden hover:shadow-2xl transition-shadow cursor-pointer group"
        onclick="showProducts('strawberry')"
      >
        <img
          src="images/qgoda.jpg"
          alt="Ягоди"
          class="w-full h-48 object-cover group-hover:scale-105 transition-transform"
        />
        <div class="p-6">
          <h3 class="text-xl font-semibold">Свежи Ягоди</h3>
          <p class="text-gray-600 mt-2">
            Пресни, ароматни и сладки – идеални за десерти и смутита.
          </p>
        </div>
      </div>

      <!-- CARD: МАЛИНИ -->
      <div
        class="bg-white rounded shadow-lg overflow-hidden hover:shadow-2xl transition-shadow cursor-pointer group"
        onclick="showProducts('raspberry')"
      >
        <img
          src="images/malinki.jpg"
          alt="Малини"
          class="w-full h-48 object-cover group-hover:scale-105 transition-transform"
        />
        <div class="p-6">
          <h3 class="text-xl font-semibold">Ароматни Малини</h3>
          <p class="text-gray-600 mt-2">
            Ръчно набрани и подбрани за най-високо качество.
          </p>
        </div>
      </div>

      <!-- CARD: СЛАДКО -->
      <div
        class="bg-white rounded shadow-lg overflow-hidden hover:shadow-2xl transition-shadow cursor-pointer group"
        onclick="showProducts('jam')"
      >
        <img
          src="images/sladko1.webp"
          alt="Домашно Сладко"
          class="w-full h-48 object-cover group-hover:scale-105 transition-transform"
        />
        <div class="p-6">
          <h3 class="text-xl font-semibold">Домашно Сладко</h3>
          <p class="text-gray-600 mt-2">
            Натурално, без добавени консерванти – истински домашен вкус.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- DYNAMIC PRODUCTS LIST -->
  <section id="dynamic-products" class="max-w-7xl mx-auto py-8 px-4 hidden">
    <h3 class="text-2xl font-bold text-center mb-6" id="category-title"></h3>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="product-list">
      <!-- Тук се вкарват елементите чрез JavaScript -->
    </div>
  </section>

  <!-- ABOUT US + VIRTUAL TOUR -->
  <section id="about" class="max-w-7xl mx-auto py-16 px-4">
    <h2 class="text-3xl font-bold text-center mb-8">За Нас</h2>
    <p class="text-lg text-gray-700 text-center max-w-3xl mx-auto mb-12">
      Ние сме семейна ферма, която отглежда екологично чисти ягоди и малини на
      територията на България. Нашата мисия е да ви осигурим най-свежите и вкусни
      плодове, от градината – директно на вашата маса.
    </p>

    <h3 class="text-2xl font-semibold text-center mb-4">Виртуална Разходка</h3>
    <p class="text-lg text-gray-700 text-center mb-6">
      Разгледайте нашата ферма чрез видеа и снимки:
    </p>
    <div class="flex justify-center">
      <!-- Примерно вграждане на Facebook пост -->
      <iframe
        src="https://www.facebook.com/plugins/post.php?href=https%3A%2F%2Fwww.facebook.com%2Fphoto.php%3Ffbid%3D122130259982207693&show_text=false&width=500"
        width="500"
        height="650"
        style="border:none;overflow:hidden"
        scrolling="yes"
        frameborder="0"
        allowfullscreen="true"
        allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"
      >
      </iframe>
    </div>
  </section>

  <!-- CONTACT FORM -->
  <section
    id="contact"
    class="bg-gray-200 py-16 flex flex-col items-center justify-center"
  >
    <h2 class="text-3xl font-bold mb-4">Контакт и Поръчки</h2>
    <p class="mb-8 text-lg text-gray-700">
      Свържете се с нас за поръчки на едро или дребно.
    </p>
    <form
      class="bg-white w-full max-w-lg mx-auto p-6 rounded shadow-md space-y-4"
    >
      <input
        type="text"
        placeholder="Вашето име"
        class="w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary"
      />
      <input
        type="email"
        placeholder="Вашият имейл"
        class="w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary"
      />
      <textarea
        placeholder="Вашето съобщение"
        class="w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary"
      ></textarea>
      <button
        class="bg-primary text-white px-6 py-3 rounded font-semibold hover:bg-red-600 hover:scale-105 transition-transform w-full"
      >
        Изпрати
      </button>
    </form>
  </section>

  <!-- FOOTER -->
  <footer class="text-center py-6 bg-primary text-white">
    <p>© 2025 Всички права запазени | Ферма за Ягоди и Малини</p>
  </footer>

  <!-- SCRIPT: Динамично зареждане на продукти + Количка -->
  <!-- Тук само включваме script.js -->
  <script src="script.js"></script>
</body>
</html>
